databaseChangeLog:
  - changeSet:
      id: 7
      author: jason
      changes:

        - createView:
            viewName: all_transaction
            selectQuery: select `t`.`id` AS `id`,
              `t`.`date` AS `date`,
              `t`.`amount` AS `amount`,
              `t`.`oppositeid` AS `opposite_id`,
              `t`.`statement` AS `statement_id`,
              `s`.`locked` AS `locked`,
              `t`.`account` AS `account_id`,
              `t`.`category` AS `category_id`,
              `c`.`name` AS `category_name`,
              `c`.`colour` AS `colour`,
              `c`.`groupid` AS `category_group`,
              `o`.`statement` AS `opp_statement_id`,
              `t`.`description` AS `description`
              from (((`transaction` `t`
              left join `statement` `s` on(((`t`.`account` = `s`.`account`) and (`t`.`statement` = ((`s`.`year` * 100) + `s`.`month`)))))
              left join `category` `c` on((`t`.`category` = `c`.`id`)))
              left join `transaction` `o` on((`t`.`id` = `o`.`oppositeid`)));

